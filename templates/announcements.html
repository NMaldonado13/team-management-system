{% extends "base.html" %}
{% block title %}Announcements{% endblock %}
{% block content %}
<h1>Announcements</h1>

{% if role == "coach" %}
<form method = "POST" style = "margin-bottom: 20px;">
    <input type = "text" name = "title" placeholder = "Announcement Title" required>
    <br><br>
    <textarea name = "content" placeholder = "Announcement Content" required></textarea>
    <br><br>
    <button type = "submit">Post Announcement</button>
</form>
{% endif %} 

{% for announcement in announcements %}
    <div style = "border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
        <h3>{{ announcement["title"]}}</h3>
        <p>{{ announcement["content"]}}</p>
        <p><strong>Posted by: </strong> {{ announcement.author }}</p>
        <small>{{ announcement["created_at"]}}</small>
    </div>
{% endfor %}
{% if announcements | length == 0 %}
    <p>No announcements.</p>
{% endif %} 
{% endblock %}